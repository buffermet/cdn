<!DOCTYPE html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<html>
  <head>
    <title>Enable manually</title>
    <style>
      html,
      body {
        max-width: 100%;
        max-height: 100%;
        margin: 0;
        padding: 0;
        background-color: rgb(0,0,0);
        color: rgb(255,255,255);
        font-family: sans-serif, helvetica, arial;
        -webkit-tap-highlight-color: rgba(0,0,0,0);
      }
      /*html body split-two {
        display: block;
        width: calc(100% / 2);
        float: left;
      }*/
      html body container {
        display: block;
        max-width: 640pt;
        margin: auto;
        padding: 0 16pt;
        overflow: hidden;
        word-break: break-all;
      }
      html body container .accordion {
        display: block;
        max-height: 0pt;
        overflow: hidden;
      }
      html body container break-word {
        word-wrap: break-word;
        word-break: break-word;
      }
      html body container indent {
        display: block;
        margin-left: 48pt;
      }
      html body container a {
        color: rgb(172,0,255);
      }
      html body container a:hover {
        text-decoration: none;
      }
      html body container a:focus {
        outline: none;
      }
      html body container p img {
        height: 14pt;
        vertical-align: middle;
        margin-left: 2pt;
      }
      html body container p img.os-icon {
        width: 24pt;
        height: 24pt;
        margin-left: -40pt;
        margin-right: 16pt;
        pointer-events: none;
        user-select: none;
        -moz-user-select: none;
        -webkit-user-select: none;
      }
      html body container p {
        font-size: 14pt;
      }
      html body container h1 {
        font-size: 24pt;
        font-weight: normal;
      }
      html body container h1.shell {
        color: rgb(172,0,255);
      }
      html body container h1.adb {
        color: rgb(0,255,167);
      }
      html body container span.shell {
        color: rgb(172,0,255);
      }
      html body container span.adb {
        color: rgb(0,255,167);
      }
      html body container p span.pre {
        display: inline;
        background-color: rgb(16,16,16);
        border-radius: 2pt;
        padding: 3pt 4pt;
        line-height: 24pt;
        font-size: 14pt;
        color: rgb(128,128,128);
      }
      html body container pre {
        background-color: rgb(16,16,16);
        border-radius: 8pt;
        padding: 16pt;
        font-size: 14pt;
        color: rgb(128,128,128);
        white-space: pre-wrap;
        white-space: -moz-pre-wrap;
        white-space: -pre-wrap;
        white-space: -o-pre-wrap;
        word-wrap: break-all;
      }
      html body container pre span.pre.adb.comment {
        color: rgb(0,255,167);
      }
      html body container alert-black {
        position: relative;
        display: block;
        padding: 8pt 16pt 8pt 72pt;
        background-color: rgb(0,0,0);
        color: rgb(196,0,0);
      }
      html body container alert-black a {
        color: rgb(255,0,0);
        font-weight: 900;
      }
      html body container alert-black p img {
        position: absolute;
        top: 50%;
        left: 8pt;
        margin-top: -24pt;
        width: 48pt;
        height: 48pt;
        user-select: none;
        -moz-user-select: none;
        -webkit-user-select: none;
        pointer-events: none;
      }
      html body container center menu {
        padding: 0;
        margin: 0;
      }
      html body container center menu p {
        font-size: 12pt;
        color: rgb(255,255,255);
        line-height: 2;
        margin: 0;
        padding: 0;
      }
      html body container center menu p a {
        color: rgb(255,255,255);
      }
      html body container center menu p separator {
        display: inline-block;
        margin: -4pt 8pt;
        width: 1pt;
        height: 16pt;
        background-color: rgb(32,32,32);
      }
      html body container center img.logo {
        margin: 32pt 0 16pt 0;
        width: 56pt;
        pointer-events: none;
        user-select: none;
        -moz-user-select: none;
        -webkit-user-select: none;
      }
      html body container label[class*=toggle-] {
        display: inline-block;
        margin-top: 16pt;
        margin-bottom: 16pt;
        padding: 8pt 16pt;
        background-color: rgb(16,16,16);
        color: rgb(255,255,255);
        font-weight: 200;
        user-select: none;
        -moz-user-select: none;
        -webkit-user-select: none;
        cursor: pointer;
        border-radius: 4pt;
      }
      html body container label[class*=toggle-]:active {
        background-color: rgb(32,32,32);
      }
      html body container label[class*=toggle-] h3 {
        margin: 0;
        padding: 0;
        font-size: 14pt;
      }
      html body container label[class*=toggle-] p {
        margin: 0;
        padding: 0;
        font-size: 11pt;
        font-weight: 500;
      }
      input[id=toggle-auto]:checked + accordion-auto {
        max-height: 9999pt;
      }
      input[id=toggle-manual]:checked + accordion-manual {
        max-height: 9999pt;
      }
      a.white {
        color: rgb(255,255,255);
      }
      hr {
        height: 1pt;
        width: 100%;
        margin: 0;
        padding: 0;
        background-color: rgb(32,32,32);
        border: none;
      }
      .display-none {
        display: none;
      }
    </style>
  </head>
  <body ontouchstart="">
    <container>
      <center>
        <img class="logo" src="https://yungtravla.github.io/cdn/github.com/yungtravla/lockscreen.chaos/chaos_icon_round.svg"></img>
        <menu>
          <break-word>
            <p>
              <a href="">Download</a>
              <separator></separator>
              <a href="">Installation</a>
              <separator></separator>
              <a href="">Screenshots</a>
              <separator></separator>
              <a href="">Uninstall</a>
            </p>
          </break-word>
        </menu>
      </center>
      <break-word>
        <!-- <alert-black>
          <p><img src="https://yungtravla.github.io/cdn/github.com/yungtravla/lockscreen.chaos/ic_alert_triangle.svg">Before you begin the installation you must first <a href="">enable ADB</a> on your Android device.</p>
        </alert-black> -->
        <p><br></p>
        <h1>Installer</h1>
        <p><br>The installer is recommended for new users. It automatically adds a LockTask component for Chaos Lockscreen and installs it as a system app on your Android device.<br><br>All you have to do is connect your phone and follow the prompts.</p>
        <label class="toggle-auto" for="toggle-auto">
          <h3>DOWNLOAD INSTALLER</h3>
          <p>(choose platform)</p>
        </label>
        <input class="display-none" type="checkbox" id="toggle-auto">

        <accordion-auto class="accordion">
          <break-word>
            <p><br></p>
            <h1 class="shell">Download the installer</h1>
          </break-word>
          <indent>
            <break-word>
              <p><br><span class="shell"><img class="os-icon" src="https://yungtravla.github.io/cdn/github.com/yungtravla/lockscreen.chaos/ic_windows.svg">Windows users</span></p>
              <a class="white" href=""><br>Download installer for Windows (2.5&nbsp;MB)</a>
              <p><br><span class="shell"><img class="os-icon" src="https://yungtravla.github.io/cdn/github.com/yungtravla/lockscreen.chaos/ic_apple.svg">Mac users</span></p>
              <a class="white" href=""><br>Download installer for macOS (2.5&nbsp;MB)</a>
              <p><br><span class="shell"><img class="os-icon" src="https://yungtravla.github.io/cdn/github.com/yungtravla/lockscreen.chaos/ic_linux.svg">Linux users</span></p>
              <a class="white" href=""><br>Download installer for Linux (2.5&nbsp;MB)</a>
            </break-word>
          </indent>
          <p><br></p>
        </accordion-auto>
        <p><br></p>
      </break-word>

      <hr>

      <break-word>
        <p><br></p>
        <h1>Install with ADB</h1>
        <p><br>The ADB method is meant for advanced users to help with debugging.</p>
        <label class="toggle-manual" for="toggle-manual">
          <h3>INSTALL WITH ADB</h3>
          <p>(advanced users)</p>
        </label>
        <input class="display-none" type="checkbox" id="toggle-manual">

        <accordion-manual class="accordion">
          <break-word>
            <p><br></p>
            <h1 class="shell">Starting ADB</h1>
            <p><br>To enable the Chaos Lockscreen you must enforce its locking capabilities by sending special instructions to your Android device with a USB.<br><br>A LockTask component will be added to <span class="pre"><b>device_policies.xml</b></span> and Chaos Lockscreen will be installed as a system app to keep its screen on/off receivers persistent.<br><br>To do this you must install ADB (Android Debug Bridge) from Android's SDK platform tools.<br><br><br><a target="_blank" href="about:blank">Download SDK platform tools</a><br><br><br>When the download is complete, unzip the file and follow the instructions below.<br><br></p>
          </break-word>
          <indent>
            <break-word>
              <p><br><span class="shell"><img class="os-icon" src="https://yungtravla.github.io/cdn/github.com/yungtravla/lockscreen.chaos/ic_windows.svg">Windows users</span></p>
              <p>Open the unzipped folder and click <span class="pre"><b>File &gt; Open command prompt</b></span> at the top of your explorer window.</p>
              <p>Inside the command prompt, enter the following command.</p>
            </break-word>
            <pre>./adb.exe root &amp;&amp; ./adb.exe shell</pre>
            <break-word>
              <p><br><span class="shell"><img class="os-icon" src="https://yungtravla.github.io/cdn/github.com/yungtravla/lockscreen.chaos/ic_apple.svg">Mac users</span></p>
              <p>Open the unzipped folder and click on <span class="pre"><b>Finder &gt; Services &gt; New Terminal at Folder</b></span> at the top of your screen.</p>
              <p>Now connect your Android device with a USB and enter the following command in the terminal.</p>
            </break-word>
            <pre>./adb restart && ./adb devices</pre>
            <break-word>
              <p>Accept the prompt on your connected Android device, then enter the following command in the terminal.</p>
            </break-word>
            <pre>./adb root &amp;&amp; ./adb shell</pre>
            <break-word>
              <p><br><span class="shell"><img class="os-icon" src="https://yungtravla.github.io/cdn/github.com/yungtravla/lockscreen.chaos/ic_linux.svg">Linux users</span></p>
              <p>Open a terminal and <span class="pre"><b>cd</b></span> to the unzipped folder.</p>
              <p>Enter the following command.</p>
            </break-word>
            <pre>./adb root &amp;&amp; ./adb shell</pre>
          </indent>
          <break-word>
            <p><br><br>If you see a line that looks like <span class="pre"><b>device:/&nbsp;&num;</b></span>, then you are ready to go to the next step. If you see a line that looks like <span class="pre"><b>device:/&nbsp;&dollar;</b></span>, type <span class="pre"><b>su</b></span> and press enter.</p>
            <p><br>You should now have a root shell on your Android device. If anything goes wrong, make sure you first <a href="">enable ADB</a> and try again.</p>
            <p><br>Continue to the next step.</p>
            <p><br></p>
            <h1 class="adb">ADB shell commands</h1>
            <p><br>Copy and paste the following code into your terminal and press enter.</p>
          </break-word> 
          <pre><span class="pre adb comment">&num; set variables</span><br>CHAOS_POLICIES="&lt;?xml version='1.0' encoding='utf-8' standalone='yes' ?&gt;\n&lt;policies setup-complete=\"true\"&gt;\n&lt;lock-task-component name=\"com.github.yungtravla.lockscreen.chaos\" /&gt;\n&lt;lock-task-features value=\"31\" /&gt;\n&lt;/policies&gt;";<br><br>CHAOS_POLICIES_ACCESS=600;<br><br>CHAOS_POLICIES_UID=1000;<br><br>CHAOS_POLICIES_GID=1000;<br><br>CHAOS_CONFIG="{\"activated\":1,\"attempts\":3,\"attempts_left\":0,\"dots\":4,\"keys\":{\"0\":{},\"1\":{},\"2\":{}},\"limit_attempts\":0,\"lockout_duration\":10,\"locked_out_until\":0,\"method\":-1,\"role\":\"unlocked\",\"stealth\":0}";<br><br>CHAOS_CONFIG_ACCESS=`stat /data/data/com.github.yungtravla.lockscreen.chaos/files/config.json | grep -aio "Access: [(][0-9]\{3\}/" | grep -ao "[0-9]\{3\}"`;<br><br>CHAOS_CONFIG_UID=`stat /data/data/com.github.yungtravla.lockscreen.chaos/files/config.json | grep -ao "Uid: [(][0-9]\{1,\}" | grep -ao "[0-9]\{1,\}"`;<br><br>CHAOS_CONFIG_GID=`stat /data/data/com.github.yungtravla.lockscreen.chaos/files/config.json | grep -ao "Gid: [(][0-9]\{1,\}" | grep -ao "[0-9]\{1,\}"`;<br><br>CHAOS_SDK_VERSION=`getprop | grep -a "ro\.build\.version\.sdk" | grep -ao "[0-9]\{1,\}"`;<br><br>CHAOS_PKG_PATH=`pm path com.github.yungtravla.lockscreen.chaos | grep -ao "/.*"`;<span class="pre adb comment"><br><br>&num; disable selinux</span><br>setenforce 0;<span class="pre adb comment"><br><br>&num; add lock-task-component and lock-task-feature</span><br><span class="pre adb comment">&num; then reset file permissions</span><br>echo -e "$CHAOS_POLICIES" &gt; /data/system/device_policies.xml \<br>&nbsp;&nbsp;&amp;&amp; chmod $CHAOS_POLICIES_ACCESS /data/system/device_policies.xml \<br>&nbsp;&nbsp;&amp;&amp; chown $CHAOS_POLICIES_UID /data/system/device_policies.xml \<br>&nbsp;&nbsp;&amp;&amp; chgrp $CHAOS_POLICIES_GID /data/system/device_policies.xml;<span class="pre adb comment"><br><br>&num; if current sdk version is 27 or lower</span><br><span class="pre adb comment">&num; then deny TOAST_WINDOW for user android</span><br>if [ $CHAOS_SDK_VERSION -lt 28 ]; then<br>&nbsp;&nbsp;appops set android TOAST_WINDOW deny;<br>fi;<span class="pre adb comment"><br><br>&num; set as system app</span><br>(mount -o rw,remount /system; <br>&nbsp;&nbsp;mount -o rw,remount /;<br>&nbsp;&nbsp;mkdir /system/app/ChaosLockscreen;<br>&nbsp;&nbsp;cp $CHAOS_PKG_PATH /system/app/ChaosLockscreen/base.apk) \<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; chmod 644 /system/app/ChaosLockscreen/base.apk \<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp; (mount -o ro,remount /system;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mount -o ro,remount /);<span class="pre adb comment"><br><br>&num; toggle lockscreen to active</span><br>echo "$CHAOS_CONFIG" &gt; /data/data/com.github.yungtravla.lockscreen.chaos/files/config.json \<br>&nbsp;&nbsp;&amp;&amp; chmod $CHAOS_CONFIG_ACCESS /data/data/com.github.yungtravla.lockscreen.chaos/files/config.json \<br>&nbsp;&nbsp;&amp;&amp; chown $CHAOS_CONFIG_UID /data/data/com.github.yungtravla.lockscreen.chaos/files/config.json \<br>&nbsp;&nbsp;&amp;&amp; chgrp $CHAOS_CONFIG_GID /data/data/com.github.yungtravla.lockscreen.chaos/files/config.json;<span class="pre adb comment"><br><br>&num; re-enable selinux</span><br>setenforce 1;<br><br><span class="pre adb comment">&num; reboot</span><br>reboot;</pre>
        </accordion-manual>
      </break-word>

      <p><br><br><br></p>
    </container>
  </body>
</html>
