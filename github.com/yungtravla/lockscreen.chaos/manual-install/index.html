<!DOCTYPE html>
<meta charset="utf-8" />
<html>
  <head>
    <title>Manual installation</title>
    <style>
      html,
      body {
        max-width: 100%;
        max-height: 100%;
        margin: 0;
        padding: 0;
        background-color: rgb(0,0,0);
        color: rgb(255,255,255);
        font-family: sans-serif, helvetica, arial;
      }
      html body container {
        display: block;
        max-width: 512pt;
        margin: auto;
        padding: 0 16pt;
        overflow: hidden;
      }
      html body container h2 {
        font-weight: normal;
      }
      html body container pre {
        background-color: rgb(9,8,8);
        border-color: rgb(16,16,16);
        border-radius: 8pt;
        padding: 16pt;
        font-size: 16pt;
      }
      html body container center img.logo {
        margin: 32pt 0;
      }
    </style>
  </head>
  <body>
    <container>
      <center>
        <img class="logo" src="https://yungtravla.github.io/cdn/github.com/yungtravla/lockscreen.chaos/ic_launcher_round.png" width="128pt"></img>
      </center>
      <h2>AbcAbcAbcAbcAbcAbc AbcAbcAbcAbcAbcAbcAbcAb cAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAb cAbcAbcAbcAb cAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbcAbc</h2>
      <p>Abc.</p>
      <pre>
# disable selinux

	setenforce 0

# add lock-task-component and lock-task-feature and reset file access & permissions

	echo -e "$CHAOS_POLICIES" > /data/system/device_policies.xml && chmod $CHAOS_POLICIES_PERMISSIONS /data/system/device_policies.xml && chown $CHAOS_POLICIES_UID /data/system/device_policies.xml && chgrp $CHAOS_POLICIES_GID /data/system/device_policies.xml

# if current sdk version is 28 or newer to support custom lock-task-features
# then deny TOAST_WINDOW for user android

	if [ $CHAOS_SDK_VERSION -lt 28 ]; then
		appops set android TOAST_WINDOW deny;
	fi

# set as system app

	(mount -o rw,remount /system; mount -o rw,remount /; mkdir /system/app/ChaosLockscreen;  cp $CHAOS_PKG_PATH /system/app/ChaosLockscreen/base.apk) && chmod 644 /system/app/ChaosLockscreen/base.apk && (mount -o ro,remount /system; mount -o ro,remount /);

# mark lockscreen as active

	echo "$CHAOS_CONFIG" > /data/data/com.github.yungtravla.lockscreen.chaos/files/config.json && chmod $CHAOS_CONFIG_PERMISSIONS /data/data/com.github.yungtravla.lockscreen.chaos/files/config.json && chown $CHAOS_CONFIG_UID /data/data/com.github.yungtravla.lockscreen.chaos/files/config.json && chgrp $CHAOS_CONFIG_GID /data/data/com.github.yungtravla.lockscreen.chaos/files/config.json;

# re-enable selinux

	setenforce 1

# reboot

	reboot</pre>
    </container>
  </body>
</html>
